var draw=function(){var e=document.querySelector("main").offsetWidth,t=document.querySelector("main").offsetHeight,n=document.createElement("canvas"),r=n.getContext("2d"),o=n.getBoundingClientRect(),a=0,d=0,i=0,l=0,c=0,s=0,u="",g=!1,f="rand",w="rand",m=!1,h=!1;function E(){return"#"+Math.floor(16777215*Math.random()).toString(16)}return{setIsDrawing:function(e){g=e},getIsDrawing:function(){return g},setXY:function(e){m=a,h=d,a=e.clientX-o.left-n.offsetLeft,d=e.clientY-o.top-n.offsetTop},setStart:function(){i=a,l=d},setEnd:function(){c=a,s=d},setColor:function(e,t){"stroke"===e?w=t:f=t},getColor:function(e){return console.log(e),console.log(f),console.log(w),"stroke"===e&&"rand"!=w?w:"fill"===e&&"rand"!=f?f:E()},setShape:function(e){u=e},getShape:function(){return u},writeXY:function(){document.getElementById("trackX").innerHTML="X:= "+a,document.getElementById("trackY").innerHTML="Y:= "+d},draw:function(){r.restore(),"rectangle"===u?this.drawRect():"line"===u?this.drawLine():"circle"===u?this.drawCircle():"path"===u?this.drawPath():"triangle"===u?this.drawTriangle():alert("Please choose a shape"),r.save()},drawLine:function(){r.strokeStyle=E(),r.beginPath(),r.moveTo(i,l),r.lineTo(c,s),r.stroke()},drawCircle:function(){r.strokeStyle=E(),r.fillStyle=E();let e=i-c,t=l-s,n=Math.sqrt(e*e+t*t);r.beginPath(),r.arc(i,l,n,0,2*Math.PI),r.stroke(),r.fill()},drawPath:function(){r.strokeStyle=E(),r.beginPath(),r.moveTo(m,h),r.lineTo(a,d),r.stroke()},drawRect:function(){r.fillStyle=E(),r.fillRect(i,l,c-i,s-l)},drawTriangle:function(){r.fillStyle=E(),r.beginPath(),r.moveTo(i,l),r.lineTo(c,s),r.lineTo(i,s),r.lineTo(i,l),r.stroke(),r.fill()},getCanvas:function(){return n},init:function(){n.width=e,n.height=t,document.querySelector("main").appendChild(n)}}}();draw.init(),draw.getCanvas().addEventListener("mousemove",function(e){draw.setXY(e),draw.writeXY(),"path"===draw.getShape()&&!0===draw.getIsDrawing()&&draw.draw()}),draw.getCanvas().addEventListener("mousedown",function(e){draw.setStart(),draw.setIsDrawing(!0)}),draw.getCanvas().addEventListener("mouseup",function(e){draw.setEnd(),draw.draw(),draw.setIsDrawing(!1)}),document.getElementById("btnRect").addEventListener("click",function(e){draw.setShape("rectangle")}),document.getElementById("btnLine").addEventListener("click",function(e){draw.setShape("line")}),document.getElementById("btnCircle").addEventListener("click",function(e){draw.setShape("circle")}),document.getElementById("btnPath").addEventListener("click",function(e){draw.setShape("path")}),document.getElementById("btnTriangle").addEventListener("click",function(e){draw.setShape("triangle")}),document.getElementById("strokeColor").addEventListener("change",function(e){let t=document.getElementById("strokeColor").value;alert(t),draw.setColor("stroke",t)}),document.getElementById("fillColor").addEventListener("change",function(e){let t=document.getElementById("fillColor").value;alert(t),draw.setColor("fill",t)}),document.getElementById("randStrokeColor").addEventListener("change",function(e){1==document.getElementById("randStrokeColor").checked&&(console.log("stroke"),alert("stroke"),draw.setColor("stroke","rand"))}),document.getElementById("randFillColor").addEventListener("change",function(e){!0===document.getElementById("randFillColor").checked&&(console.log("rand we inside/outside the console log!!!"),alert("rand"),draw.setColor("fill","rand"))});